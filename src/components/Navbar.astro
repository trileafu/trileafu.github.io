---
import { Image } from "astro:assets";
import Favicon from "@/assets/brands/favicon.png";
---

<header
	id={Astro.props.id}
	class:list={[
		"sticky top-0 px-8 flex justify-center z-30 w-full bg-white",
		Astro.props.class,
	]}
>
	<nav class="container flex items-center justify-between py-3">
		<div class="flex items-center gap-3">
			<Image src={Favicon} alt="trileafu logo" class="h-8 w-8" />
			<span class="text-xl font-serif font-bold">trileafu</span>
		</div>
		<div class="flex items-center gap-4 text-sm" id="nav-links">
			<button data-target="bio" class="hover:underline cursor-pointer hidden md:inline">about</button>
			<button data-target="photo" class="hover:underline cursor-pointer hidden md:inline">photo</button>
			<button data-target="music" class="hover:underline cursor-pointer hidden md:inline">music</button>
			<button data-target="software" class="hover:underline cursor-pointer hidden md:inline">software</button>
			<button data-target="writing" class="hover:underline cursor-pointer hidden md:inline">writing</button>
			<button data-target="contact" class="rounded-md cursor-pointer bg-[#262626] px-3 py-1 hover:text-white	 text-[#dcffba]">contact</button>
		</div>
	</nav>
	
	<script is:inline>
		const nav = document.getElementById("nav-links");
		nav?.addEventListener("click", (event) => {
			const el = (event.target instanceof HTMLElement)
			? event.target.closest("[data-target]")
			: null;
			if (!(el instanceof HTMLElement)) return;
			const sectionId = el.dataset.target;
			if (!sectionId) return;
			const section = document.getElementById(sectionId);
			if (!section) return;
			event.preventDefault();
  section.scrollIntoView({ block: 'start' });

			// section.scrollIntoView({ behavior: "auto", block: "start" });
		});
	</script>
</header>
