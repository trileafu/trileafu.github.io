---
import { Image } from "astro:assets";
import Favicon from "@/assets/brands/favicon.png";
---

<header
	id={Astro.props.id}
	class:list={[
		"sticky top-0 px-8 flex justify-center z-30 w-full bg-white",
		Astro.props.class,
	]}
>
	<nav class="container flex items-center justify-between py-3">
		<div class="flex items-center gap-3">
			<Image src={Favicon} alt="trileafu logo" class="h-8 w-8" />
			<span class="text-xl font-serif font-bold">trileafu</span>
		</div>
		<div class="flex items-center gap-4 text-sm" id="nav-links">
			<button data-target="readme" class="hover:underline hidden md:inline">readme</button>
			<button data-target="photo" class="hover:underline hidden md:inline">photo</button>
			<button data-target="music" class="hover:underline hidden md:inline">music</button>
			<button data-target="software" class="hover:underline hidden md:inline">software</button>
			<button data-target="writing" class="hover:underline hidden md:inline">writing</button>
			<button data-target="contact" class="rounded-md bg-black px-3 py-1 text-white">contact</button>
		</div>
	</nav>
	
	<script is:inline>
		const nav = document.getElementById("nav-links");
		const header = document.getElementById("header");
		const offset = () => (header ? header.offsetHeight + 8 : 0);
	
		nav?.addEventListener("click", (event) => {
			const target = event.target;
			if (!(target instanceof HTMLElement)) return;
			const sectionId = target.dataset.target;
			if (!sectionId) return;
			event.preventDefault();
			const section = document.getElementById(sectionId);
			section.scrollIntoView({ behavior: "smooth" });
		});
	</script>
</header>
